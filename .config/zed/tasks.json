[
  {
    "label": "find files",
    "command": "fzf --multi --preview 'bat --color=always --line-range=:100 {}' --reverse --input-border=rounded --info=inline-right | xargs -I{} zed {}",
    "use_new_terminal": true,
    "allow_concurrent_runs": false,
    "reveal": "always",
    "hide": "always",
    "shell": { "program": "bash" }
  },
  {
    "label": "find git files",
    "command": "git ls-files | fzf --multi --preview 'bat --color=always --line-range=:100 {}' --reverse --input-border=rounded --info=inline-right | xargs -I{} zed {}",
    "use_new_terminal": true,
    "allow_concurrent_runs": false,
    "reveal": "always",
    "hide": "always",
    "shell": { "program": "bash" }
  },
  {
    "label": "jjui",
    "command": "jjui",
    "env": { "VISUAL": "zed -w" },
    "hide": "on_success",
    "use_new_terminal": true,
    "allow_concurrent_runs": false,
    "shell": {
      "program": "bash"
    }
  },
  {
    "label": "lazygit",
    "command": "lazygit",
    "env": { "VISUAL": "zed -w" },
    "hide": "on_success",
    "use_new_terminal": true,
    "allow_concurrent_runs": false,
    "shell": {
      "program": "bash"
    }
  },
  {
    "label": "neogit",
    "command": "nvim",
    "env": { "NVIM_NEOGIT": "1" },
    "hide": "on_success",
    "use_new_terminal": true,
    "allow_concurrent_runs": false,
    "shell": {
      "program": "bash"
    }
  },
  {
    "label": "terminal",
    "command": "terminal",
    "hide": "on_success",
    "use_new_terminal": true,
    "allow_concurrent_runs": true
  },
  {
    "label": "tfi",
    "command": "cd (dirname $ZED_FILE); set D (upfd -t d '.terraform$'); or exit 1; cd $D..; direnv allow . && eval (direnv export fish); terraform init",
    "use_new_terminal": true,
    "allow_concurrent_runs": false
  },
  {
    "label": "tfiu",
    "command": "cd (dirname $ZED_FILE); set D (upfd -t d '.terraform$'); or exit 1; cd $D..; direnv allow . && eval (direnv export fish); terraform init -upgrade",
    "use_new_terminal": true,
    "allow_concurrent_runs": false
  },
  {
    "label": "tfpp",
    "command": "cd (dirname $ZED_FILE); set D (upfd -t d '.terraform$'); or exit 1; cd $D..; direnv allow . && eval (direnv export fish); terraform plan -lock=false | tee _plan",
    "use_new_terminal": true,
    "allow_concurrent_runs": true
  },
  {
    "label": "tfpn",
    "command": "cd (dirname $ZED_FILE); set D (upfd -t d '.terraform$'); or exit 1; cd $D..; cat _plan; gawk -f ~/bin/tfn.awk _plan | sort",
    "use_new_terminal": true,
    "allow_concurrent_runs": true
  }
]
